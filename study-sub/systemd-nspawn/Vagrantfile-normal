Vagrant.configure("2") do |config|
  config.vm.box = "ubuntu/focal64"  
  config.vm.network "forwarded_port", guest: 80, host: 8080  # Adjust as needed

  config.vm.provision "shell", inline: <<-SHELL
    sudo apt-get update
    sudo apt-get install -y systemd-container


    # Create a container
    sudo apt install -y debootstrap
    sudo debootstrap --include=systemd,dbus stable /var/lib/machines/debian
    # Start a container using systemd-nspawn
    sudo systemd-nspawn --directory=/var/lib/machines/debian -xb
  SHELL
end
